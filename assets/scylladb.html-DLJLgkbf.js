import{_ as a,c as t,b as s,o as l}from"./app-BsHIgujo.js";const n={};function r(i,e){return l(),t("div",null,e[0]||(e[0]=[s(`<h1 id="scylla" tabindex="-1"><a class="header-anchor" href="#scylla"><span>Scylla</span></a></h1><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">cqlsh [--request-timeout=&lt;sec&gt;]</span>
<span class="line">DESCRIBE &lt;table&gt;; - Структура таблицы</span>
<span class="line">TRACING ON; - Анализ времени выполнения запроса</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>repair - скан и сравнение всех реплик и исправление тех реплик где запись старше чем в других. Потому что записи не всегда проходят, данных очень много и со временем начинается дрифт<br> так как модель кассандры/прочих (lsm tree) в том, что мы не модифицируем данные, а только пишем новые, удаление записи это тоже фактически запись факта удаления данных (tombstone) и суть втом, что эти tombstone не хочется (хотя и можно) хранить вечно: сцилла в фоне (при compaction) будет чистить tombstone, которые старее заданного срока. И, если так случилось, что этот tombstone при записи (удалении) попал не на все ноды (а такое легко бывает и является +- нормальным поведение), а потом эту запись какое то время не читали (= не происходил read repair), то такие tombstone могли быть очищены позже. Таким образом могла пропасть информация о том, что данные удалены, а сами данные (от предыдущих операций записи) - остаться<br> repair надо делать чаще чем грейс период томбстоунов</p>`,3)]))}const o=a(n,[["render",r],["__file","scylladb.html.vue"]]),d=JSON.parse('{"path":"/unsorted/scylladb.html","title":"Scylla","lang":"en-US","frontmatter":{},"headers":[],"git":{"updatedTime":1635856436000,"contributors":[{"name":"Tarasov Artur","username":"Tarasov Artur","email":"para3ut.74@gmail.com","commits":2,"url":"https://github.com/Tarasov Artur"}]},"filePathRelative":"unsorted/scylladb.md"}');export{o as comp,d as data};
