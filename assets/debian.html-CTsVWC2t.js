import{_ as s,c as n,b as a,o as i}from"./app-BsHIgujo.js";const l={};function t(d,e){return i(),n("div",null,e[0]||(e[0]=[a(`<h1 id="deabian" tabindex="-1"><a class="header-anchor" href="#deabian"><span><a href="https://www.debian.org" target="_blank" rel="noopener noreferrer">Deabian</a></span></a></h1><h2 id="удаление-устаревших-ядер" tabindex="-1"><a class="header-anchor" href="#удаление-устаревших-ядер"><span>Удаление устаревших ядер</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">uname -r (узнаём какое ядро сейчас задействовано)</span>
<span class="line">dpkg --list | egrep -i --color &#39;linux-image|linux-headers&#39; (список установленных ядер)</span>
<span class="line">sudo apt --purge remove linux-image-5.19.0-1-amd64 (удаляем устаревшее/ненужное ядро)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="настроика-сети" tabindex="-1"><a class="header-anchor" href="#настроика-сети"><span>Настройка сети</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">ip -c address (ip a)</span>
<span class="line">ifup &lt;interface&gt; (/sbin/ifup)</span>
<span class="line">/etc/network/interfaces</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="sudo" tabindex="-1"><a class="header-anchor" href="#sudo"><span>Sudo</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">su</span>
<span class="line">apt install sudo</span>
<span class="line">vi /etc/sudoers</span>
<span class="line">%sudo ALL=(ALL:ALL) ALL</span>
<span class="line">usermod -aG sudo sergiy</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="установка-на-orangepi" tabindex="-1"><a class="header-anchor" href="#установка-на-orangepi"><span>Установка на OrangePI</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Записываем образ через WIN32DiskImager, Etcher(https://etcher.io/)</span>
<span class="line"></span>
<span class="line">fs_resize - расширяем корневой раздел на все свободное место</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">?Удаляем файлы графики</span>
<span class="line">apt-get remove x11-common midori lxde lxde-common lxde-icon-theme omxplayer</span>
<span class="line">apt-get remove \`sudo dpkg --get-selections | grep -v &quot;deinstall&quot; | grep x11 | sed s/install//\`</span>
<span class="line">apt-get remove \`sudo dpkg --get-selections | grep -v &quot;deinstall&quot; | grep sound | sed s/install//\`</span>
<span class="line">apt-get autoremove</span>
<span class="line">rm -rf /root/Desktop</span>
<span class="line">----</span>
<span class="line"></span>
<span class="line">Добавляем русскую локализацию:</span>
<span class="line">sudo apt install language-pack-ru language-pack-ru-base</span>
<span class="line"></span>
<span class="line">Устанавливаем свой часовой пояс, в моём случае это:</span>
<span class="line">sudo timedatectl set-timezone Europe/Moscow</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">/etc/default/locale:</span>
<span class="line">#  File generated by update-locale</span>
<span class="line">LANG=ru_RU.UTF-8</span>
<span class="line">LANGUAGE=ru_RU.UTF-8</span>
<span class="line">LC_MESSAGES=ru_RU.UTF-8</span>
<span class="line">LC_ALL=ru_RU.UTF-8</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="debian-6-squeeze-7-wheezy" tabindex="-1"><a class="header-anchor" href="#debian-6-squeeze-7-wheezy"><span>Debian 6 (squeeze) -&gt; 7 (wheezy):</span></a></h2><pre><code>!!!Не обновляется
sudo apt-get update
sudo apt-get upgrade
sed -i &#39;s/squeeze/wheezy/g&#39; /etc/apt/sources.list
apt-get update
apt-get upgrade
apt-get dist-upgrade
reboot
</code></pre><h2 id="debian-9-stretch-10-buster" tabindex="-1"><a class="header-anchor" href="#debian-9-stretch-10-buster"><span>Debian 9 (stretch) -&gt; 10 (buster):</span></a></h2><pre><code>sudo apt-get update
sudo apt-get upgrade
sed -i &#39;s/stretch/buster/g&#39; /etc/apt/sources.list
apt-get update
apt-get upgrade
apt-get dist-upgrade
reboot
</code></pre><h2 id="upgrade-debian-9-stretch-to-10-buster" tabindex="-1"><a class="header-anchor" href="#upgrade-debian-9-stretch-to-10-buster"><span>Upgrade Debian 9 (stretch) to 10 (buster)</span></a></h2><p>Обновление существующей системы</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo apt update</span>
<span class="line">sudo apt dist-upgrade</span>
<span class="line">dpkg -C</span>
<span class="line">apt-mark showhold</span>
<span class="line">dpkg --audit</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Настройка репозиториев</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sed -i &#39;s/stretch/buster/g&#39; /etc/apt/sources.list</span>
<span class="line">apt update</span>
<span class="line">apt list --upgradable</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Обновление до Debian 10</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get upgrade</span>
<span class="line">apt-get dist-upgrade</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="upgrade-debian-10-to-11" tabindex="-1"><a class="header-anchor" href="#upgrade-debian-10-to-11"><span>Upgrade Debian 10 to 11</span></a></h2><p>Обновление до последней версии текущего релиза</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo apt update</span>
<span class="line">sudo apt dist-upgrade</span>
<span class="line">sudo apt --fix-broken install</span>
<span class="line">sudo apt autoremove</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Замена репозиториев</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sed -i &#39;s/buster\\/updates/bullseye-security/g&#39; /etc/apt/sources.list</span>
<span class="line">sed -i &#39;s/buster/bullseye/g&#39; /etc/apt/sources.list</span>
<span class="line">sudo apt update</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Минимальное обновление</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo apt upgrade --without-new-pkgs</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Полное обновление</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo apt full-upgrade</span>
<span class="line">reboot</span>
<span class="line">sudo apt autoremove</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="upgrade-debian-11-to-12" tabindex="-1"><a class="header-anchor" href="#upgrade-debian-11-to-12"><span>Upgrade Debian 11 to 12</span></a></h2><p>Обновление до последней версии текущего релиза</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo apt update</span>
<span class="line">sudo apt dist-upgrade</span>
<span class="line">sudo apt --fix-broken install</span>
<span class="line">sudo apt autoremove</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Сохраняем списко текущих пакетов</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">dpkg --get-selections &quot;*&quot; &gt; ~/dpkg.list</span>
<span class="line">dpkg -l &gt; ~/dpkg-full.list</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Замена репозиториев</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sed -i &#39;s/bullseye/bookworm/g&#39; /etc/apt/sources.list</span>
<span class="line">sudo apt update</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Минимальное обновление</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo apt upgrade --without-new-pkgs</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Полное обновление</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo apt full-upgrade</span>
<span class="line">reboot</span>
<span class="line">sudo apt autoremove</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="mariadb" tabindex="-1"><a class="header-anchor" href="#mariadb"><span>MariaDB</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get install mariadb-server</span>
<span class="line">mysql_secure_installation</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="apache2" tabindex="-1"><a class="header-anchor" href="#apache2"><span>Apache2</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get install apache2</span>
<span class="line">systemctl status apache2</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nginx" tabindex="-1"><a class="header-anchor" href="#nginx"><span>Nginx</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get install nginx</span>
<span class="line">systemctl status nginx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="php" tabindex="-1"><a class="header-anchor" href="#php"><span>PHP</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get-install php</span>
<span class="line">echo &#39;&lt;?php phpinfo(); ?&gt;&#39; &gt; /var/www/phpinfo.php</span>
<span class="line">curl -sSfL https://raw.githubusercontent.com/amnuts/opcache-gui/master/index.php -o /var/www/opcache.php</span>
<span class="line">curl -sSfL https://raw.githubusercontent.com/krakjoe/apcu/master/apc.php -o /var/www/apc.php</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="docker" tabindex="-1"><a class="header-anchor" href="#docker"><span><a href="https://docs.docker.com/engine/install/debian/" target="_blank" rel="noopener noreferrer">Docker</a></span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo apt-get update</span>
<span class="line">sudo apt-get install ca-certificates curl gnupg</span>
<span class="line"></span>
<span class="line">sudo install -m 0755 -d /etc/apt/keyrings</span>
<span class="line">curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg</span>
<span class="line">sudo chmod a+r /etc/apt/keyrings/docker.gpg</span>
<span class="line"></span>
<span class="line">echo \\</span>
<span class="line">  &quot;deb [arch=&quot;$(dpkg --print-architecture)&quot; signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/debian \\</span>
<span class="line">  &quot;$(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;)&quot; stable&quot; | \\</span>
<span class="line">  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span>
<span class="line"></span>
<span class="line">apt-get update</span>
<span class="line">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span>
<span class="line">sudo docker run hello-world</span>
<span class="line"></span>
<span class="line">systemctl status docker</span>
<span class="line">systemctl status containerd</span>
<span class="line"></span>
<span class="line">apt-get install -y docker-compose</span>
<span class="line">curl -SL https://github.com/docker/compose/releases/download/v2.20.3/docker-compose-linux-x86_64 -o /usr/local/bin/docker-compose</span>
<span class="line">sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">vim /etc/docker/daemon.json</span>
<span class="line">{</span>
<span class="line">    &quot;log-driver&quot;: &quot;local&quot;,</span>
<span class="line">    &quot;log-opts&quot;: {</span>
<span class="line">        &quot;max-size&quot;: &quot;10m&quot;,</span>
<span class="line">        &quot;max-file&quot;:&quot;3&quot;</span>
<span class="line">    },</span>
<span class="line">    &quot;userland-proxy&quot;: false</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="samba" tabindex="-1"><a class="header-anchor" href="#samba"><span>Samba</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get install samba samba-common-bin</span>
<span class="line">mkdir -m 1777 /share</span>
<span class="line">vim /etc/samba/smb.conf</span>
<span class="line">[share]</span>
<span class="line">comment = Pi shared folder</span>
<span class="line">path = /share</span>
<span class="line">browseable = yes</span>
<span class="line">writeable = Yes</span>
<span class="line">only guest = no</span>
<span class="line">create mask = 0777</span>
<span class="line">directory mask = 0777</span>
<span class="line">public = yes</span>
<span class="line">guest ok = yes</span>
<span class="line">smbpasswd -a &lt;username&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="cups" tabindex="-1"><a class="header-anchor" href="#cups"><span>CUPS</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get install cups</span>
<span class="line">apt-get install foomatic-db foomatic-db-engine</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">vim /etc/cups/cupsd.conf</span>
<span class="line">#Listen localhost:631</span>
<span class="line">Listen 631</span>
<span class="line"></span>
<span class="line"># Restrict access to the server...</span>
<span class="line">&lt;Location /&gt;</span>
<span class="line">  Order allow,deny</span>
<span class="line">  Allow @Local /// add</span>
<span class="line">&lt;/Location&gt;</span>
<span class="line"> </span>
<span class="line"># Restrict access to the admin pages...</span>
<span class="line">&lt;Location /admin&gt;</span>
<span class="line">  Order allow,deny</span>
<span class="line">  Allow @Local /// add</span>
<span class="line">&lt;/Location&gt;</span>
<span class="line"> </span>
<span class="line"># Restrict access to configuration files...</span>
<span class="line">&lt;Location /admin/conf&gt;</span>
<span class="line">  AuthType Default</span>
<span class="line">  Require user @SYSTEM</span>
<span class="line">  Order allow,deny</span>
<span class="line">  Allow @Local /// add</span>
<span class="line">&lt;/Location&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="qbittorrent" tabindex="-1"><a class="header-anchor" href="#qbittorrent"><span>qBittorrent</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">adduser --system --group qbittorrent-nox</span>
<span class="line">apt-get install qbittorrent-nox</span>
<span class="line">qbittorrent-nox</span>
<span class="line">vim /etc/systemd/system/qbittorrent-nox.service</span>
<span class="line">[Unit]</span>
<span class="line">Description=qBittorrent Daemon Service</span>
<span class="line">After=network.target</span>
<span class="line">[Service]</span>
<span class="line">Type=forking</span>
<span class="line">User=qbittorrent-nox</span>
<span class="line">Group=qbittorrent-nox</span>
<span class="line">UMask=007</span>
<span class="line">ExecStart=/usr/bin/qbittorrent-nox -d --webui-port=8080</span>
<span class="line">[Install]</span>
<span class="line">WantedBy=multi-user.target</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>http://&lt;server_ip&gt;:8080/<br> admin:adminadmin</p><h2 id="redis" tabindex="-1"><a class="header-anchor" href="#redis"><span>Redis</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get install redis-server</span>
<span class="line">systemctl status redis-server</span>
<span class="line">/etc/redis/redis.conf</span>
<span class="line">loglevel warning</span>
<span class="line">logfile &quot;&quot;</span>
<span class="line">syslog-enabled yes</span>
<span class="line">always-show-logo no</span>
<span class="line">save &quot;&quot;</span>
<span class="line">maxmemory 256mb</span>
<span class="line">requirepass &quot;&quot; </span>
<span class="line">appendonly no</span>
<span class="line">maxmemory-policy allkeys-lru</span>
<span class="line"># protected-mode no</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="influxdb" tabindex="-1"><a class="header-anchor" href="#influxdb"><span>InfluxDB</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get install influxdb</span>
<span class="line">systemctl status influxdb</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="rabbitmq" tabindex="-1"><a class="header-anchor" href="#rabbitmq"><span>RabbitMQ</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get install rabbitmq-server</span>
<span class="line">systemctl status rabbitmq-server</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="postgresql-13" tabindex="-1"><a class="header-anchor" href="#postgresql-13"><span>PostgreSQL 13</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get install postgresql-13</span>
<span class="line">systemctl status postgresql</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="timescaledb-postgresql-13" tabindex="-1"><a class="header-anchor" href="#timescaledb-postgresql-13"><span><a href="https://www.timescale.com/" target="_blank" rel="noopener noreferrer">TimescaleDB (PostgreSQL 13)</a></span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">sudo sh -c &quot;echo &#39;deb [signed-by=/usr/share/keyrings/timescale.keyring] https://packagecloud.io/timescale/timescaledb/debian/ $(lsb_release -c -s) main&#39; &gt; /etc/apt/sources.list.d/timescaledb.list&quot;</span>
<span class="line">wget --quiet -O - https://packagecloud.io/timescale/timescaledb/gpgkey | sudo gpg --dearmor -o /usr/share/keyrings/timescale.keyring</span>
<span class="line">wget --quiet -O - https://packagecloud.io/timescale/timescaledb/gpgkey | apt-key add -</span>
<span class="line">apt-get update</span>
<span class="line">apt-get install timescaledb-2-postgresql-13</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="postgis-postgresql-13" tabindex="-1"><a class="header-anchor" href="#postgis-postgresql-13"><span><a href="https://postgis.net/" target="_blank" rel="noopener noreferrer">PostGIS (PostgreSQL 13)</a></span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h2 id="zabbix" tabindex="-1"><a class="header-anchor" href="#zabbix"><span><a href="https://www.zabbix.com/" target="_blank" rel="noopener noreferrer">Zabbix</a></span></a></h2><p><a href="linux_debian#apache2">Install Apache</a><br><a href="linux_debian#php">Install PHP</a><br><a href="linux_debian#mariadb">Install MariaDB</a><br> Install Zabbix repository</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">wget https://repo.zabbix.com/zabbix/5.0/debian/pool/main/z/zabbix-release/zabbix-release_5.0-2+debian11_all.deb</span>
<span class="line">dpkg -i zabbix-release_5.0-2+debian11_all.deb</span>
<span class="line">apt-get update</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Install Zabbix server, frontend, agent</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get install zabbix-server-mysql zabbix-frontend-php zabbix-agent</span>
<span class="line"># If Apache2</span>
<span class="line">apt-get install zabbix-apache-conf</span>
<span class="line"># If Nginx</span>
<span class="line">apt-get install zabbix-nginx-conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Create initial database</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line"># mysql -uroot -p</span>
<span class="line">password</span>
<span class="line">mysql&gt; create database zabbix character set utf8 collate utf8_bin;</span>
<span class="line">mysql&gt; create user zabbix@localhost identified by &#39;password&#39;;</span>
<span class="line">mysql&gt; grant all privileges on zabbix.* to zabbix@localhost;</span>
<span class="line">mysql&gt; quit;</span>
<span class="line"></span>
<span class="line"># zcat /usr/share/doc/zabbix-server-mysql*/create.sql.gz | mysql -uzabbix -p zabbix</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Configure Zabbix server database</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">/etc/zabbix/zabbix_server.conf</span>
<span class="line">    DBPassword=&lt;password&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>http://SERVER_IP/zabbix<br> Admin:zabbix</p><h3 id="upgrade-zabbix-5-0-lts-to-6-0-lts" tabindex="-1"><a class="header-anchor" href="#upgrade-zabbix-5-0-lts-to-6-0-lts"><span>Upgrade Zabbix 5.0 LTS to 6.0 LTS</span></a></h3><pre><code>systemctl stop zabbix-server

mkdir /opt/zabbix-backup/
cp /etc/zabbix/zabbix_server.conf /opt/zabbix-backup/
cp /etc/apache2/conf-enabled/zabbix.conf /opt/zabbix-backup/
cp -R /usr/share/zabbix/ /opt/zabbix-backup/
cp -R /usr/share/doc/zabbix-* /opt/zabbix-backup/

rm -Rf /etc/apt/sources.list.d/zabbix.list
wget https://repo.zabbix.com/zabbix/6.0/debian/pool/main/z/zabbix-release/zabbix-release_6.0-1+debian11_all.deb
dpkg -i zabbix-release_6.0-1+debian11_all.deb
apt-get update
apt-get install --only-upgrade zabbix-server-mysql zabbix-frontend-php zabbix-agent
apt-get install zabbix-apache-conf

vim /etc/zabbix/zabbix_server.conf:
    DBPassword=
    ValueCacheSize=32M
vim /etc/zabbix/apache.conf

systemctl start zabbix-server
</code></pre><h2 id="node-js" tabindex="-1"><a class="header-anchor" href="#node-js"><span>Node.js</span></a></h2><h2 id="home-assistant-core" tabindex="-1"><a class="header-anchor" href="#home-assistant-core"><span><a href="https://www.home-assistant.io/installation/linux#install-home-assistant-core" target="_blank" rel="noopener noreferrer">Home Assistant Core</a></span></a></h2><h2 id="fail2ban" tabindex="-1"><a class="header-anchor" href="#fail2ban"><span>fail2ban</span></a></h2><h2 id="openvpn-server" tabindex="-1"><a class="header-anchor" href="#openvpn-server"><span>OpenVPN Server</span></a></h2><h2 id="wireguard" tabindex="-1"><a class="header-anchor" href="#wireguard"><span>WireGuard</span></a></h2><h2 id="phpsysinfo" tabindex="-1"><a class="header-anchor" href="#phpsysinfo"><span><a href="https://phpsysinfo.github.io/phpsysinfo/" target="_blank" rel="noopener noreferrer">phpSysInfo</a></span></a></h2><h2 id="phpmyadmin" tabindex="-1"><a class="header-anchor" href="#phpmyadmin"><span>phpMyAdmin</span></a></h2><h2 id="webmin" tabindex="-1"><a class="header-anchor" href="#webmin"><span><a href="https://webmin.com/" target="_blank" rel="noopener noreferrer">WebMin</a></span></a></h2><h2 id="linux-dash" tabindex="-1"><a class="header-anchor" href="#linux-dash"><span><a href="https://github.com/afaqurk/linux-dash/" target="_blank" rel="noopener noreferrer">Linux Dash</a></span></a></h2><h2 id="mosquitto" tabindex="-1"><a class="header-anchor" href="#mosquitto"><span><a href="https://mosquitto.org/blog/2013/01/mosquitto-debian-repository/" target="_blank" rel="noopener noreferrer">Mosquitto</a></span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">1:</span>
<span class="line">    sudo apt-get update</span>
<span class="line">    sudo apt-get upgrade</span>
<span class="line">2:</span>
<span class="line">    sudo wget http://repo.mosquitto.org/debian/mosquitto-repo.gpg.key</span>
<span class="line">    sudo apt-key add mosquitto-repo.gpg.key</span>
<span class="line">    или</span>
<span class="line">    sudo wget -q https://repo.mosquitto.org/debian/mosquitto-repo.gpg -O /etc/apt/keyrings/mosquitto-repo.gpg</span>
<span class="line"></span>
<span class="line">    cd /etc/apt/sources.list.d/</span>
<span class="line">    sudo wget http://repo.mosquitto.org/debian/mosquitto-bullseye.list</span>
<span class="line">    sudo wget http://repo.mosquitto.org/debian/mosquitto-bookworm.list</span>
<span class="line">    sudo apt-get update</span>
<span class="line">3:</span>
<span class="line">    sudo apt-get install mosquitto</span>
<span class="line">    sudo apt-get install mosquitto-clients</span>
<span class="line">4:</span>
<span class="line">    sudo /etc/init.d/mosquitto stop</span>
<span class="line">    sudo nano /etc/mosquitto/mosquitto.conf</span>
<span class="line">        # Place your local configuration in /etc/mosquitto/conf.d/</span>
<span class="line">        #</span>
<span class="line">        # A full description of the configuration file is at</span>
<span class="line">        # /usr/share/doc/mosquitto/examples/mosquitto.conf.example</span>
<span class="line">        pid_file /var/run/mosquitto.pid</span>
<span class="line"></span>
<span class="line">        persistence true</span>
<span class="line">        persistence_location /var/lib/mosquitto/</span>
<span class="line"></span>
<span class="line">        log_dest topic</span>
<span class="line">        log_type error</span>
<span class="line">        log_type warning</span>
<span class="line">        log_type notice</span>
<span class="line">        log_type information</span>
<span class="line"></span>
<span class="line">        connection_messages true</span>
<span class="line">        log_timestamp true</span>
<span class="line"></span>
<span class="line">        include_dir /etc/mosquitto/conf.d</span>
<span class="line">    sudo /etc/init.d/mosquitto start</span>
<span class="line">5:</span>
<span class="line">    mosquitto_sub -d -t hello/world</span>
<span class="line">    mosquitto_pub -d -t hello/world -m &quot;Hello from Terminal window 2!&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="minidlna" tabindex="-1"><a class="header-anchor" href="#minidlna"><span><a href="http://itadept.ru/linux-dlna-server-minidlna/" target="_blank" rel="noopener noreferrer">MiniDLNA</a></span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-get install minidlna</span>
<span class="line">systemctl status minidlna</span>
<span class="line">vim /etc/sysctl.conf</span>
<span class="line">#MiniDLNA warning fix</span>
<span class="line">fs.inotify.max_user_watches = 100000</span>
<span class="line">systemctl restart minidlna</span>
<span class="line">vim /etc/minidlna.conf</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="clickhouse" tabindex="-1"><a class="header-anchor" href="#clickhouse"><span>ClickHouse</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">apt-key adv --keyserver keyserver.ubuntu.com --recv E0C56BD4</span>
<span class="line">echo &quot;deb http://repo.yandex.ru/clickhouse/deb/stable/ main/&quot; | sudo tee /etc/apt/sources.list.d/clickhouse.list</span>
<span class="line">apt-get install clickhouse-server clickhouse-client</span>
<span class="line">OrangePi PC Armbian install error</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,97)]))}const p=s(l,[["render",t],["__file","debian.html.vue"]]),c=JSON.parse('{"path":"/os/linux/debian.html","title":"Deabian","lang":"en-US","frontmatter":{},"headers":[{"level":2,"title":"Удаление устаревших ядер","slug":"удаление-устаревших-ядер","link":"#удаление-устаревших-ядер","children":[]},{"level":2,"title":"Настройка сети","slug":"настроика-сети","link":"#настроика-сети","children":[]},{"level":2,"title":"Sudo","slug":"sudo","link":"#sudo","children":[]},{"level":2,"title":"Установка на OrangePI","slug":"установка-на-orangepi","link":"#установка-на-orangepi","children":[]},{"level":2,"title":"Debian 6 (squeeze) -> 7 (wheezy):","slug":"debian-6-squeeze-7-wheezy","link":"#debian-6-squeeze-7-wheezy","children":[]},{"level":2,"title":"Debian 9 (stretch) -> 10 (buster):","slug":"debian-9-stretch-10-buster","link":"#debian-9-stretch-10-buster","children":[]},{"level":2,"title":"Upgrade Debian 9 (stretch) to 10 (buster)","slug":"upgrade-debian-9-stretch-to-10-buster","link":"#upgrade-debian-9-stretch-to-10-buster","children":[]},{"level":2,"title":"Upgrade Debian 10 to 11","slug":"upgrade-debian-10-to-11","link":"#upgrade-debian-10-to-11","children":[]},{"level":2,"title":"Upgrade Debian 11 to 12","slug":"upgrade-debian-11-to-12","link":"#upgrade-debian-11-to-12","children":[]},{"level":2,"title":"MariaDB","slug":"mariadb","link":"#mariadb","children":[]},{"level":2,"title":"Apache2","slug":"apache2","link":"#apache2","children":[]},{"level":2,"title":"Nginx","slug":"nginx","link":"#nginx","children":[]},{"level":2,"title":"PHP","slug":"php","link":"#php","children":[]},{"level":2,"title":"Docker","slug":"docker","link":"#docker","children":[]},{"level":2,"title":"Samba","slug":"samba","link":"#samba","children":[]},{"level":2,"title":"CUPS","slug":"cups","link":"#cups","children":[]},{"level":2,"title":"qBittorrent","slug":"qbittorrent","link":"#qbittorrent","children":[]},{"level":2,"title":"Redis","slug":"redis","link":"#redis","children":[]},{"level":2,"title":"InfluxDB","slug":"influxdb","link":"#influxdb","children":[]},{"level":2,"title":"RabbitMQ","slug":"rabbitmq","link":"#rabbitmq","children":[]},{"level":2,"title":"PostgreSQL 13","slug":"postgresql-13","link":"#postgresql-13","children":[]},{"level":2,"title":"TimescaleDB (PostgreSQL 13)","slug":"timescaledb-postgresql-13","link":"#timescaledb-postgresql-13","children":[]},{"level":2,"title":"PostGIS (PostgreSQL 13)","slug":"postgis-postgresql-13","link":"#postgis-postgresql-13","children":[]},{"level":2,"title":"Zabbix","slug":"zabbix","link":"#zabbix","children":[{"level":3,"title":"Upgrade Zabbix 5.0 LTS to 6.0 LTS","slug":"upgrade-zabbix-5-0-lts-to-6-0-lts","link":"#upgrade-zabbix-5-0-lts-to-6-0-lts","children":[]}]},{"level":2,"title":"Node.js","slug":"node-js","link":"#node-js","children":[]},{"level":2,"title":"Home Assistant Core","slug":"home-assistant-core","link":"#home-assistant-core","children":[]},{"level":2,"title":"fail2ban","slug":"fail2ban","link":"#fail2ban","children":[]},{"level":2,"title":"OpenVPN Server","slug":"openvpn-server","link":"#openvpn-server","children":[]},{"level":2,"title":"WireGuard","slug":"wireguard","link":"#wireguard","children":[]},{"level":2,"title":"phpSysInfo","slug":"phpsysinfo","link":"#phpsysinfo","children":[]},{"level":2,"title":"phpMyAdmin","slug":"phpmyadmin","link":"#phpmyadmin","children":[]},{"level":2,"title":"WebMin","slug":"webmin","link":"#webmin","children":[]},{"level":2,"title":"Linux Dash","slug":"linux-dash","link":"#linux-dash","children":[]},{"level":2,"title":"Mosquitto","slug":"mosquitto","link":"#mosquitto","children":[]},{"level":2,"title":"MiniDLNA","slug":"minidlna","link":"#minidlna","children":[]},{"level":2,"title":"ClickHouse","slug":"clickhouse","link":"#clickhouse","children":[]}],"git":{"updatedTime":1736250118000,"contributors":[{"name":"Tarasov Artur","username":"Tarasov Artur","email":"para3ut.74@gmail.com","commits":22,"url":"https://github.com/Tarasov Artur"},{"name":"PaRa3uT","username":"PaRa3uT","email":"PaRa3uT.74@gmail.com","commits":9,"url":"https://github.com/PaRa3uT"}]},"filePathRelative":"os/linux/debian.md"}');export{p as comp,c as data};
